<!DOCTYPE html>
<html>
  <head>
    <title>Indie Film Classes - Waiting List</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="style.css" />
  </head>
  <body>
    <header>
      <!-- Hamburger -->
      <div class="menu-icon" onclick="toggleMenu()">
        <div class="bar"></div>
        <div class="bar"></div>
        <div class="bar"></div>
      </div>

      <!-- Overlay for the menu -->
      <div class="overlay" onclick="toggleMenu()" id="overlay">
        <div class="close-icon" onclick="toggleMenu()">Ã—</div>
        <!-- Navigation / smaller screens -->
        <nav class="navbar">
          <a href="index.html">Home</a>
          <a href="about.html">About</a>
          <a href="classes.html">Classes</a>
          <a href="contact.html">Contact</a>
        </nav>
      </div>

      <!-- Nnavigation / desktop -->
      <nav class="navbar-desktop">
        <a href="index.html">Home</a>
        <a href="about.html">About</a>
        <a href="classes.html">Classes</a>
        <a href="contact.html">Contact</a>
      </nav>
      <script>
        function submitForm() {
          var xhr = new XMLHttpRequest();
          var url =
            "https://script.google.com/macros/s/AKfycbxPmEddZJjUa_lvcLvdfDS34qVYmhHGUi830_GYCSKktnDZNWLQTIdCqgRG59ZVr0nTPQ/exec";
          var formData = new FormData(document.querySelector("form"));

          xhr.open("POST", url, true);
          xhr.onreadystatechange = function () {
            if (xhr.readyState == 4 && xhr.status == 200) {
              var result = JSON.parse(xhr.responseText);
              if (result.result === "success") {
                window.location.href = result.redirect;
              } else {
                // Handle error if needed
                console.error(result.error);
              }
            }
          };
          xhr.send(formData);
        }
      </script>
    </header>

    <div class="container" style="padding-top: 20vh">
      <div class="content">
        <h2>Join Our Waiting List</h2>
        <p class="sub-text-small">We are experiencing high demand. Our next class is scheduled to commence in early 2024. We encourage you to join the waiting list to secure your spot early.</p>
        <p class="sub-text-small">
          As soon as we have places available, we will send you an email.
        </p>

        <form
          method="POST"
          action="https://script.google.com/macros/s/AKfycbxPmEddZJjUa_lvcLvdfDS34qVYmhHGUi830_GYCSKktnDZNWLQTIdCqgRG59ZVr0nTPQ/exec"
        >
          <input name="Email" type="email" placeholder="Email" required />
          <input name="Name" type="text" placeholder="Your Name" required />
          <label class="sub-text-small" for="courses"
            >* What class are you interested in?</label
          required>
          <div class="devider-30"></div>

          <select id="class" name="Class" required>
            <option value="All">Choose One</option>
            <option value="Screenwriting For Indie Film (London)">Screenwriting For Indie Film (London)</option>
            <option value="Make Real-Time Feature Films (London)">Make Real-Time Feature Films (London)
            </option>
            <option value="Screenwriting For Indie Film (Kyoto)">Screenwriting For Indie Film (Kyoto)</option>
            <option value="Make Real-Time Feature Films (Kyoto)">Make Real-Time Feature Films (Kyoto)
            </option>
            <option value="Online Classes">I'm Interested In Online Classes</option>
          </select>
          <div class="devider-30"></div>

          <button class="book-button" type="button" onclick="submitForm()">
            Submit
          </button>
        </form>
      </div>
    </div>

    <div class="devider-30"></div>


    <script src="script.js"></script>
  </body>
</html>
